@import "@pluginjs/styles/variables";
@import "./bg-picker.core";

// Vars
// =====================
$bgPicker: "pj-bgPicker";
$dropdown: "pj-dropdown";
$select: "pj-select";

$bgPicker-font-family: $font-family-base;
$bgPicker-font-size: $font-size-base;

$bgPicker-width: 160px;
$bgPicker-height: 90px;

$bgPicker-spacer: 24px;

$bgPicker-color: $gray-dark;
$bgPicker-hover-color: $gray-darkest;
$bgPicker-active-color: $color-primary;

$bgPicker-hover-bg: $gray-lightest;
$bgPicker-opacity: 1;

$bgPicker-border-width: 1px;
$bgPicker-border-color: $border-color;
$bgPicker-border: $bgPicker-border-width solid $bgPicker-border-color;
$bgPicker-border-radius: $border-radius-base;
// empty
$bgPicker-empty-border-style: dashed;
$bgPicker-empty-font-size: $font-size-sm;
$bgPicker-empty-icon-size: $font-size-md;
// fill
$bgPicker-fill-change-bg: $color-opacity;
$bgPicker-fill-hover-color: $gray-lightest;
$bgPicker-fill-change-font-size: $font-size-md;
$bgPicker-fill-action-color: $color-white;
$bgPicker-fill-remove-margin: 0 15px;
// DROPDOWN
$bgPicker-expand-width: 274px;
$bgPicker-expand-image-width: 224px;
$bgPicker-expand-image-height: 127px;
$bgPicker-expand-content-width: 224px;
$bgPicker-expand-repeat-size-width: $bgPicker-expand-content-width / 4;
$bgPicker-expand-position-width: $bgPicker-expand-content-width / 3;
$bgPicker-expand-panel-padding: $bgPicker-spacer;
// content
$bgPicker-content-color: $color-black;
$bgPicker-content-font-size: $font-size-xs;
$bgPicker-content-margin: 12px;
//size-content
$bgPicker-size-content-height: 32px;
$bgPicker-size-content-border-radius: $border-radius-base;
//position-content
$bgPicker-position-content-li-height: 32px;
//repeat-title
$bgPicker-repeat-title-color: $gray-darkest;
$bgPicker-repeat-content-color: $gray-lighter;

$bgPicker-image-margin: 5.5px;
$bgPicker-image-remove-right: 10px;
$bgPicker-image-name-with: 198px;

$bgPicker-field-content-mw: 224px;

// Style
// =====================
.#{$bgPicker} {
  font-family: $bgPicker-font-family;
  font-size: $bgPicker-font-size;
  color: $bgPicker-color;

  &-trigger {
    width: $bgPicker-width;
    height: $bgPicker-height;

    &-action {
      width: $bgPicker-width;
      height: $bgPicker-height;
      font-size: $bgPicker-fill-change-font-size;
      color: $bgPicker-fill-action-color;
      text-align: center;
      background-color: $bgPicker-fill-change-bg;
      border-radius: $bgPicker-border-radius;
      opacity: 0;
    }
  }

  &-empty,
  &-fill {
    width: $bgPicker-width;
    height: $bgPicker-height;
    text-align: center;
    background-color: $color-white;
    border: $bgPicker-border;
    border-radius: $bgPicker-border-radius;
  }

  &-empty.#{$dropdown}-trigger {
    font-size: $bgPicker-empty-font-size;
    color: $bgPicker-color;
    cursor: pointer;
    border-style: $bgPicker-empty-border-style;

    &:hover {
      color: $bgPicker-hover-color;
    }

    > i {
      font-size: $bgPicker-empty-icon-size;
    }
  }

  &-fill {
    background: url("data:image/png;base64,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") no-repeat center;

    &-image {
      border-radius: $bgPicker-border-radius;
    }
  }

  &-remove,
  &-edit {
    margin: $bgPicker-fill-remove-margin;

    &:hover {
      color: $bgPicker-fill-hover-color;
      cursor: pointer;
    }
  }

  &-image {
    .#{$bgPicker}-field-content {
      padding-left: $bgPicker-image-margin;
     }

    .#{$bgPicker}-image-select {
      color: $color-primary;
      cursor: pointer;
     }

    .#{$bgPicker}-image-selected {
      .#{$bgPicker}-image-change {
        color: $color-primary;
        cursor: pointer;
        
     }

      .#{$bgPicker}-image-remove {
        position: absolute;
        right: $bgPicker-image-remove-right;
        color: $color-danger-dark;
     }

      .#{$bgPicker}-image-name {
        width: $bgPicker-image-name-with;
        overflow: hidden;
        color: $color-black !important;
        text-overflow: ellipsis;
        white-space: nowrap; 

     }
   }
    
    .#{$bgPicker}-selected-disabled {
      color: $gray-light !important;
      cursor: not-allowed;

      &:hover {
        border-color: transparent;
      }
    }
  }

  //================================
  &-dropdown {
    width: $bgPicker-expand-width;
    padding: $bgPicker-expand-panel-padding;
    background-color: $color-white;
    border: $bgPicker-border;
    border-radius: $bgPicker-border-radius;

    > div {
      margin-bottom: $bgPicker-spacer;

      &:last-child {
        margin-bottom: 0;
      }
    }
  }

  &-preview {
    width: $bgPicker-expand-image-width;
    height: $bgPicker-expand-image-height;
    margin-bottom: $bgPicker-spacer;
    background: url("data:image/png;base64,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") no-repeat center;
    border-radius: $bgPicker-border-radius;

    .#{$bgPicker}-image {
      border-radius: $bgPicker-border-radius;
    }
  }

  &-control {
    text-align: right;
  }

  &-field {
    &-title {
      margin-bottom: $bgPicker-content-margin;
      font-size: $bgPicker-content-font-size;
      color: $bgPicker-repeat-title-color;
    }

    &-content {
      width: 100%;
      font-size: $bgPicker-content-font-size;
      color: $bgPicker-content-color;
    }
  }

  &-position,
  &-repeat,
  &-size {
    .#{$bgPicker}-field-content {
      li {
        text-align: center;
        list-style: none;
        cursor: pointer;
        border: $bgPicker-border;

        &:hover {
          background-color: $bgPicker-hover-bg;
        }

        &::after {
          border: $bgPicker-border-width solid $bgPicker-active-color;
        }

        &.#{$bgPicker}-active {
          color: $bgPicker-active-color;
          background-color: transparent;
        }
      }
    }
  }

  &-repeat,
  &-size {
    .#{$bgPicker}-field-content {
      li {
        width: $bgPicker-expand-repeat-size-width;
        height: $bgPicker-size-content-height;
        border-left: 0;

        &::after {
          width: $bgPicker-expand-repeat-size-width;
          height: $bgPicker-size-content-height;
        }

        &:first-child {
          border-left: $bgPicker-border;
        }

        &:first-child,
        &:first-child::after {
          border-top-left-radius: $bgPicker-border-radius;
          border-bottom-left-radius: $bgPicker-border-radius;
        }

        &:last-child,
        &:last-child::after {
          border-top-right-radius: $bgPicker-border-radius;
          border-bottom-right-radius: $bgPicker-border-radius;
        }
      }
    }
  }

  &-position {
    .#{$bgPicker}-field-content {
      max-width: $bgPicker-field-content-mw;

      li {
        width: $bgPicker-expand-position-width;
        height: $bgPicker-position-content-li-height;
        margin-top: -1px;

        &::after {
          width: $bgPicker-expand-position-width;
          height: $bgPicker-position-content-li-height;
        }

        &:nth-child(2),
        &:nth-child(3),
        &:nth-child(5),
        &:nth-child(6),
        &:nth-child(8),
        &:nth-child(9) {
          border-left: 0;
        }

        &:nth-child(1),
        &:nth-child(2),
        &:nth-child(3) {
          margin-top: 0;
        }

        &:nth-child(1),
        &:nth-child(1)::after {
          border-top-left-radius: $bgPicker-border-radius;
        }

        &:nth-child(3),
        &:nth-child(3)::after {
          border-top-right-radius: $bgPicker-border-radius;
        }

        &:nth-child(7),
        &:nth-child(7)::after {
          border-bottom-left-radius: $bgPicker-border-radius;
        }

        &:nth-child(9),
        &:nth-child(9)::after {
          border-bottom-right-radius: $bgPicker-border-radius;
        }
      }
    }
  }
}

.#{$bgPicker}-hover {
  .#{$bgPicker}-trigger-action {
    opacity: $bgPicker-opacity;
    transition: all 300ms ease-in-out;
  }
}

/* stylelint-disable */
.#{$bgPicker}-disabled {
  .#{$bgPicker}-fill {
    cursor: not-allowed;
    background-color: $disabled-bg;
  }

  .#{$bgPicker}-initial {
    cursor: not-allowed;
    background-color: $disabled-bg;
  }

  .#{$bgPicker}-trigger-action {
    cursor: not-allowed;
    background-color: $disabled-bg;

    .#{$bgPicker}-remove,
    .#{$bgPicker}-edit {
      cursor: not-allowed;
    }
  }

  .#{$bgPicker}-empty {
    color: $disabled-color;
    cursor: not-allowed;
    background-color: $disabled-bg;

    &:hover {
      color: $disabled-color;
    }
  }

  .#{$bgPicker}-trigger {
    cursor: not-allowed;
  }

  .#{$bgPicker}-empty {
    pointer-events: none;
  }
}
